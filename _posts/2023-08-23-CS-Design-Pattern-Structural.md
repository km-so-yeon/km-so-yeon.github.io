---
title: "[CS] 디자인패턴 - 구조패턴"
author: "김소연"
date: 2023-08-23 19:00:00 -0500
categories: [CS]
tags: [CS]
---



## 구조패턴

클래스나 객체를 조합해 더 큰 구조를 만드는 패턴이다. 

예를 들면 서로 다른 인터페이스를 지닌 2개의 객체를 묶어서 단일 인터페이스로 제공하거나, 서로 다른 객체들을 묶어 새로운 기능을 제공하는 패턴이 있다.



### 어댑터(Adapter)

호환되지 않는 인터페이스들을 연결하는 디자인 패턴이다.



#### 사용

- 호환되지 않는 인터페이스를 가진 클래스들이 함께 작동해야 하는 경우
- 이미 존재하는 클래스의 인터페이스가 요구 사항과 맞지 않거나 또는 기존 클래스에 원하는 인터페이스가 없는 경우

**예시**

- 자바의 I/O 라이브러리 `InputStreamReader`
  InputStreamReader는 바이트 스트림을 문자 스트림으로 변환하는 어댑터 역할을 한다. 이 클래스는 InputStream을 받아서 Reader를 제공함으로써 바이트를 문자로 변환한다.



#### 장/단점

- 장점
  - 기존의 클래스를 수정하지 않고도 클라이언트에서 새로운 인터페이스를 사용할 수 있다
    👉 코드 재사용, 코드 중복 감소
  - 클라이언트 간의 결합도를 줄여줘서 소스코드 변경이 필요할 때 쉽게 수정할 수 있다.

- 단점
  - 어댑터 클래스를 추가로 작성해야해서 소스코드가 늘어난다.
    👉 코드 복잡성 증가, 유지보수가 어려워짐
  - 어댑터가 중간에 데이터를 변환하는 과정에서 추가적인 처리 시간과 오버헤드가 발생할 수 있다.



### 브릿지(Bridge)

기능을 처리하는 클래스와 구현을 담당하는 추상 클래스로 구별하는 패턴이다. 
구현부에서 추상층을 분리한 것으로 각자 독립적으로 변형이 가능하고 확장이 가능하도록 한다.



#### 사용

* 부모 추상 클래스가 기본 규칙 세트를 정의하고 구체적인 클래스가 추가 규칙을 추가하고 싶은 경우
* 객체에 대한 참조가 있는 추상 클래스가 있고 각 구체적인 클래스에서 정의될 추상 메서드가 있는 경우



#### 장/단점

- 장점
  - 클래스 계층을 분리할 때 완전한 인터페이스를 결합하지 않는다. 이를 통해 구현과 추상 부분 2개의 계층으로 분리될 수 있고, 각각 독립적인 확장이 가능하다.
  - 런타임 시점에 어떤 방식으로 기능을 구현할지 선택할 수 있다.
  - 기능을 독립적으로 확장할 수 있어서 상세한 기능을 외부로부터 숨길 수 있는 은닉 효과도 얻을 수 있다.
- 단점
  - 추상화를 통해 코드를 분리할 경우 코드 디자인 설계가 복잡해진다.




### 복합체(컴포짓, Composite)

객체 간의 계층적 구조화를 통해 객체를 확장하는 패턴이다.

- 복합 객체는 객체가 또 다른 객체를 포함하는 것
- 복합적인 객체 관계를 복합화 또는 집단화라고 한다.
- 복합체 패턴을 이용하면 객체의 상위, 하위 체계를 파악할 수 있고
  일대일, 다대일을 처리하는 데에도 매우 유용하다.



#### 사용

- 트리 모양을 가진 구성 요소들을 구현하고 싶은 경우
- 객체에 따라 다르게 처리하지 않고 동일하게 취급해야할 때

**예시**

- 회사와 부서, 팀과 같이 그룹과 해당 그룹에 속한 하위 그룹이 있는 계층(트리) 구조 형태
- 세트 상품 (다른 세트 상품의 일부가 될 수 있음)



#### 장/단점

- 장점
  - 단일 객체와 복합 객체(그룹)을 동일하게 여기기 때문에, 묶어서 연산하거나 관리할 때 편하다.
  - 투명성을 이용해서 클라이언트의 사용을 단순화할 수 있다. (if문을 사용하지 않고 Composite와 Leaf 판단이 가능하다.)
- 단점
  - 재귀 호출 특징 상 트리의 Depth가 깊어질수록 디버깅에 어려움이 생긴다.
  - 수평적, 수직적 모든 방향으로 객체를 확장할 수 있지만, 수평적 방향으로만 확장하도록 Leaf를 제한한 Composite를 만들기는 어렵다.



### 장식자(데코레이터, Decorator)

동적으로 객체를 결합하기 위해 객체 지향의 구성을 통해 확장한다. (코드를 수정하지 않고 확장이 가능하다.)



### 퍼사드(Facade)



### 플라이웨이트(Flyweight)



### 프록시(Proxy)



https://hirlawldo.tistory.com/m/169

https://yozm.wishket.com/magazine/detail/2077/